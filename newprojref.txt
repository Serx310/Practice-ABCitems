http://localhost/obstock/itemlist.php

http://localhost/ob_itemlist/itemlistABC.phpÂ´


SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME, a.ATTRIBUTES, t.RATE, c.NAME as CATEGORYNAME,
( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS , 0 , 0 ,'' as PLACE,
( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 0 LIMIT 1 ) as HANKIJAKOOD, i.CODE as IMAGECODE , q.LONGDESC  as ProdDescription
FROM PRODUCTS a
left join TAXES t on t.CATEGORY = a.TAXCAT
left join CATEGORIES c on c.ID = a.CATEGORY
left join PRCODES i on i.ID = a.ID and i.CODELIST = 3
left join PRODUCTS_MSG q on q.PRODUCT = a.ID and q.JNR =1
order by c.NAME, a.NAME LIMIT 200


SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME, a.ATTRIBUTES, t.RATE, c.NAME as CATEGORYNAME,
( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS , 0 , 0 ,'' as PLACE,
( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 0 LIMIT 1 ) as HANKIJAKOOD, i.CODE as IMAGECODE , q.LONGDESC  as ProdDescription
FROM PRODUCTS a
join TAXES t on t.CATEGORY = a.TAXCAT
join CATEGORIES c on c.ID = a.CATEGORY
join PRCODES i on i.ID = a.ID and i.CODELIST = 3
join PRODUCTS_MSG q on q.PRODUCT = a.ID and q.JNR =1
order by c.NAME, a.NAME LIMIT 200


SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME, a.ATTRIBUTES,
( SELECT c.NAME from CATEGORIES c WHERE c.ID = a.CATEGORY) as CATEGORYNAME,
( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS ,(CONVERT( ExtractValue ( a.ATTRIBUTES , '/properties//entry[@key="koht"]' ) USING utf8)) as PLACE,
( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 3 LIMIT 1 ) as HANKIJAKOOD,
(SELECT i.CODE from PRCODES i where i.ID = a.ID and i.CODELIST = 3) as IMAGECODE ,
( SELECT q.LONGDESC from PRODUCTS_MSG q where q.PRODUCT = a.ID and q.JNR =1 ) as ProdDescription,
( Select t.RATE from TAXES t WHERE t.CATEGORY = a.TAXCAT) as RATE

FROM PRODUCTS a
order by a.NAME LIMIT 200


`LINENO`, `CODELIST`, `OWNER`, `ID`, `CODE` SELECT * FROM `prcodes`



SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME, a.ATTRIBUTES, ( SELECT c.NAME from CATEGORIES c WHERE c.ID = a.CATEGORY) as CATEGORYNAME, ( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS ,(CONVERT( ExtractValue ( a.ATTRIBUTES , '/properties//entry[@key="koht"]' ) USING utf8)) as PLACE, ( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 3 LIMIT 1 ) as HANKIJAKOOD, (SELECT i.CODE from PRCODES i where i.ID = a.ID and i.CODELIST = 3) as IMAGECODE , ( SELECT q.LONGDESC from PRODUCTS_MSG q where q.PRODUCT = a.ID and q.JNR =1 ) as ProdDescription, ( Select t.RATE from TAXES t WHERE t.CATEGORY = a.TAXCAT) as RATE FROM PRODUCTS a
where 1=1 and a.REFERENCE like '%6474%' order by CATEGORYNAME, a.NAME LIMIT 200



SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME, a.ATTRIBUTES, ( SELECT c.NAME from CATEGORIES c WHERE c.ID = a.CATEGORY) as CATEGORYNAME, ( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS ,(CONVERT( ExtractValue ( a.ATTRIBUTES , '/properties//entry[@key="koht"]' ) USING utf8)) as PLACE, ( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 3 LIMIT 1 ) as HANKIJAKOOD, (SELECT i.CODE from PRCODES i where i.ID = a.ID and i.CODELIST = 3) as IMAGECODE , ( SELECT q.LONGDESC from PRODUCTS_MSG q where q.PRODUCT = a.ID and q.JNR =1 ) as ProdDescription, ( Select t.RATE from TAXES t WHERE t.CATEGORY = a.TAXCAT) as RATE FROM PRODUCTS a order by CATEGORYNAME, a.NAME LIMIT 20



15.12.2021
SELECT a.ID, a.REFERENCE, a.CODE, a.NAME, a.PRICEBUY, a.PRICESELL, a.CATEGORY, a.TAXCAT, a.ATTRIBUTESET_ID, a.STOCKCOST, a.STOCKVOLUME,a.ATTRIBUTES, ( SELECT SUM( CAST( UNITS AS DECIMAL(10,4) ) ) FROM STOCKCURRENT WHERE PRODUCT = a.ID ) AS STOCKUNITS,(CONVERT( ExtractValue ( a.ATTRIBUTES , '/properties//entry[@key="koht"]' ) USING utf8)) as PLACE, ( SELECT h.CODE FROM PRCODES h WHERE h.ID = a.ID and h.CODELIST = 3 LIMIT 1 ) as HANKIJAKOOD, (SELECT i.CODE from PRCODES i where i.ID = a.ID and i.CODELIST = 3) as IMAGECODE, ( SELECT q.LONGDESC from PRODUCTS_MSG q where q.PRODUCT = a.ID and q.JNR =1 ) as ProdDescription, ( Select t.RATE from TAXES t WHERE t.CATEGORY = a.TAXCAT) as RATE FROM PRODUCTS a left join CATEGORIES c on c.ID = a.CATEGORY order by a.NAME LIMIT 20 
